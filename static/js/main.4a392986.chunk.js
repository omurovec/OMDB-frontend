(this["webpackJsonpshopify-frontend-challenge"]=this["webpackJsonpshopify-frontend-challenge"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(0),a=n.n(c),i=n(7),o=n.n(i),r=(n(21),n(4)),A=(n(22),n(14)),l=n(2),d=n.p+"static/media/exit.85f9f2a1.svg",u=n.p+"static/media/award.8fa1bf15.svg",C=n.p+"static/media/award-filled.dd259c80.svg",I=n.p+"static/media/search.b1f781b9.svg",g="data:image/png;base64,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",j=n(13),E=n(6),O=Object(E.b)({name:"nominations",initialState:{nominations:function(){try{var e;return null!==(e=JSON.parse(localStorage.getItem("nominations")))&&void 0!==e?e:[]}catch(t){return console.warn(t),[]}}()},reducers:{addNom:function(e,t){e.nominations.push(t.payload)},removeNom:function(e,t){e.nominations=e.nominations.filter((function(e){return e.imdbID!==t.payload}))}}}),B=Object(E.b)({name:"search",initialState:{totalResults:0,resultsRemaining:0,page:0,searchText:"",results:[]},reducers:{newSearch:function(e,t){var n=t.payload,s=n.results,c=n.totalResults,a=n.newResults,i=n.searchText;e.totalResults=c,e.resultsRemaining=c-a,e.page=1,e.searchText=i,e.results=s},nextPage:function(e,t){e.page++,e.resultsRemaining-=t.payload.newResults.length,e.results=[].concat(Object(j.a)(e.results),Object(j.a)(t.payload.newResults))}}}),b=Object(E.b)({name:"more-info",initialState:{id:null,data:null},reducers:{setID:function(e,t){e.id=t.payload},setData:function(e,t){e.data=t.payload},wipeMoreInfo:function(e){e.id=null,e.data=null}}}),w=Object(E.a)({reducer:{nominations:O.reducer,search:B.reducer,moreInfo:b.reducer}});w.subscribe((function(){var e=w.getState().nominations;localStorage.setItem("nominations",JSON.stringify(e.nominations))}));var m="https://www.omdbapi.com/?";function f(e){var t="";return Object.keys(e).forEach((function(n){t+="".concat(n,"=").concat(encodeURIComponent(e[n]),"&")})),t.slice(0,-1)}var h=function(e){return e.nominations.nominations.map((function(e){return e.imdbID}))},Q=function(e){return e.moreInfo.id},v=function(e){return e.moreInfo.data},M=function(e){return e.nominations.nominations.length>=5},D=function(e){return Object(s.jsxs)("div",{className:"container searchbar",children:[Object(s.jsx)("img",{src:I,alt:"search"}),Object(s.jsx)("input",{onChange:function(t){e.onChange(t.target.value)},placeholder:"Search"})]})},L=function(e){var t=Object(l.b)(M);return Object(s.jsx)("div",{className:"banner container ".concat(t?null:"hidden"),children:Object(s.jsx)("h3",{children:e.text})})},y=function(e){return Object(s.jsx)("ul",{className:"toggle",children:e.labels.map((function(t,n){return Object(s.jsx)("li",{children:Object(s.jsx)("h2",{className:e.focused===n?"focused":null,onClick:function(){return e.setIndex(n)},children:t})},t)}))})},p=function(e){var t=Object(l.b)(M);return Object(s.jsxs)("li",{children:[Object(s.jsx)("img",{onClick:function(){w.dispatch(b.actions.setID(e.imdbID))},src:"N/A"===e.Poster?g:e.Poster,alt:"poster",className:"poster"}),Object(s.jsxs)("div",{onClick:function(){w.dispatch(b.actions.setID(e.imdbID))},children:[Object(s.jsx)("h3",{children:e.Title}),Object(s.jsx)("p",{children:e.Year}),Object(s.jsx)("p",{children:e.Type}),Object(s.jsx)("p",{className:"see-more",children:"See more..."})]}),Object(s.jsx)("img",{onClick:function(){e.selected?w.dispatch(O.actions.removeNom(e.imdbID)):t||w.dispatch(O.actions.addNom(e))},src:e.selected?C:u,alt:"award",className:"award ".concat(t&&!e.selected?"disabled":null)})]})},x=function(e){var t,n=Object(l.b)(h);return Object(s.jsxs)("div",{className:"container",children:[e.altHeader?e.altHeader:Object(s.jsx)("h2",{children:e.title}),Object(s.jsxs)("ul",{className:"list",children:[e.data&&e.data.length>0?e.data.map((function(e){return Object(c.createElement)(p,Object(A.a)(Object(A.a)({},e),{},{key:e.imdbID,selected:n.indexOf(e.imdbID)+1}))})):Object(s.jsxs)("p",{children:["0 ",e.title,"..."]}),null!==(t=e.altFooter)&&void 0!==t?t:null]})]})},N=function(e){var t=Object(l.b)(Q),n=Object(l.b)(v),a=Object(l.b)(h),i=Object(l.b)(M),o=Object(c.useState)(),A=Object(r.a)(o,2),I=A[0],j=A[1];return Object(c.useEffect)((function(){t&&!n&&function(e){var t={apikey:Object({NODE_ENV:"production",PUBLIC_URL:"/OMDB-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_OMDB_API_KEY,i:e,plot:"full"};fetch(m+f(t)).then((function(e){return e.json()})).then((function(e){w.dispatch(b.actions.setData(e))})).catch((function(e){console.warn(e)}))}(t)}),[t,n]),Object(c.useEffect)((function(){j(a.indexOf(t)+1)}),[a,t]),t?Object(s.jsx)("div",{id:"more-info",children:n?Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("img",{onClick:function(){w.dispatch(b.actions.wipeMoreInfo())},className:"exit",src:d,alt:"exit"}),Object(s.jsxs)("div",{className:"scroll-content",children:[Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)("img",{src:"N/A"===n.Poster?g:n.Poster,alt:"poster",className:"poster"}),Object(s.jsxs)("div",{className:"text",children:[Object(s.jsxs)("div",{className:"title",children:[Object(s.jsx)("h1",{children:n.Title}),Object(s.jsx)("img",{onClick:function(){I?w.dispatch(O.actions.removeNom(t)):i||w.dispatch(O.actions.addNom({Title:n.Title,Year:n.Year,Type:n.Type,Poster:n.Poster,imdbID:t}))},src:I?C:u,className:"award ".concat(i&&!I?"disabled":null),alt:"award"})]}),Object(s.jsxs)("h4",{children:["Release Date: ",n.Released]}),Object(s.jsxs)("h4",{children:["Rated: ",n.Rated]}),Object(s.jsxs)("h4",{children:["Rating: ",n.imdbRating]}),Object(s.jsxs)("h4",{children:["Runtime: ",n.Runtime]}),Object(s.jsxs)("h4",{children:["Genre: ",n.Genre]})]})]}),Object(s.jsx)("p",{className:"plot",children:n.Plot})]})]}):null}):null},z=function(e){return e.search.resultsRemaining},S=function(e){return e.nominations.nominations},R=function(e){return e.search.results};var T=function(){var e=Object(l.b)(z),t=Object(l.b)(S),n=Object(l.b)(R),a=Object(c.useState)(window.innerWidth),i=Object(r.a)(a,2),o=i[0],A=i[1],d=Object(c.useState)(""),u=Object(r.a)(d,2),C=u[0],I=u[1],g=Object(c.useState)(0),j=Object(r.a)(g,2),E=j[0],O=j[1];Object(c.useEffect)((function(){window.onresize=function(){A(window.innerWidth)}})),Object(c.useEffect)((function(){C&&function(e){var t={apikey:Object({NODE_ENV:"production",PUBLIC_URL:"/OMDB-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_OMDB_API_KEY,s:e};fetch(m+f(t)).then((function(e){return e.json()})).then((function(t){var n;w.dispatch(B.actions.newSearch({totalResults:Number(t.totalResults),newResults:null===(n=t.Search)||void 0===n?void 0:n.length,searchText:e,results:t.Search}))})).catch((function(e){console.warn(e)}))}(C)}),[C]);var b=function(){!function(){var e=w.getState(),t=e.search;if(e.resultsRemaining<=0)console.warn(new Error("No more results"));else{var n={apikey:Object({NODE_ENV:"production",PUBLIC_URL:"/OMDB-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_OMDB_API_KEY,s:t.searchText,page:String(t.page+1)};fetch(m+f(n)).then((function(e){return e.json()})).then((function(e){w.dispatch(B.actions.nextPage({newResults:e.Search}))})).catch((function(e){console.warn(e)}))}}()};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(D,{onFocus:function(){O(0)},onChange:I}),Object(s.jsx)(L,{text:"5/5 Nominations Selected"}),Object(s.jsx)("div",{className:"row-wrapper",children:o<1024?Object(s.jsx)(x,{altHeader:Object(s.jsx)(y,{setIndex:O,focused:E,labels:["Results","Nominations"]}),title:0===E?"Results":"Nominations",data:0===E?n:t,altFooter:0===E&&e&&n?Object(s.jsx)("p",{className:"load-more",onClick:b,children:"Load more..."}):null}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x,{title:"Results",data:n,altFooter:e&&n?Object(s.jsx)("p",{className:"load-more",onClick:b,children:"Load more..."}):null}),Object(s.jsx)(x,{title:"Nominations",data:t})]})}),Object(s.jsx)(N,{})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(l.a,{store:w,children:Object(s.jsx)(T,{})})}),document.getElementById("root")),P()}},[[29,1,2]]]);
//# sourceMappingURL=main.4a392986.chunk.js.map